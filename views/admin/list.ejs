<!DOCTYPE html>
<html>
  <body>
  <link rel='stylesheet' href='/stylesheets/style.css' />
  <script src='/javascripts/jquery.js'></script>
  <style>
  	.article-w{
      position: relative;
  		padding: 20px 40px;
      width: 680px;
      border: 1px solid transparent;
      transition: all .5s;
      cursor: pointer;
      box-shadow: 2px 3px 4px #fff;
  	}
  	.article-w:hover {
  		box-shadow: 2px 3px 4px #ccc;
    	border: 1px solid #ede6e6;
  	}
    .delete{
      display: none;
      font-size: 16px;
    }
    .article-w:hover .delete{
        display: block;
        position: absolute;
        right: 0;
        top: 0;
        cursor: pointer;
        width: 100px;
        text-align: center;
        line-height: 70px;
    }
    .delete:hover{
      color: #47c68c;
    }
  </style>
	<div id="article-list">
		<%for(var i=0;i<list.length;i++){%>
		<div class='article-w'>
			<div class="article-time"><%=list[i].time%></div>
			<h3 class="article-title"><%=list[i].title%></h3>
			<div class="artilce-intr"><%=list[i].intr%></div>
      <div class="delete" data-id="<%=list[i]._id%>">Del</div>
		</div>
		 <%}%>
	</div>
	<script>
      $(".detel").on('click',function(){
          var is=confirm("是否删除这篇文章");
          if(is){
             $.ajax({
                 url: "/article/remove",
                 type:"post",
                 dataType: "json",
                 data: {
                    articleId:$(this).attr("data-id")
                 },
                 success: function(data) {
                     var d = data.data;
                     if(data.code==0){
                       $(this).parent(".article-w").remove();
                     }else if(data.code==1000){
                        alert(data.data.msg);
                     }
                 }
             })
          }
      })
	</script>
  </body>
</html>
